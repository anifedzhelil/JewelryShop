@model JewelryShop.Web.ViewModels.UserOrders.IndexViewModel

@{ 
    var num = 1;
}
    
<h4>Моите поръчки</h4>

<table class="table table-striped">
  <thead>
    <tr>
      <th scope="col">#</th>
      <th scope="col">Дата на поръчката</th>
      <th scope="col">Брой продукти</th>
      <th scope="col">Статус</th>
      <th scope="col">Сума</th>
    </tr>
  </thead>
  <tbody>
      @foreach (var item in Model.Orders)
      {
          <tr>
              <th scope="row"><a asp-action="Details" asp-area="" asp-route-id="@item.Id" asp-controller="UserOrders">Поръчка @num</a></th>
              <td>@item.CompleteDate.ToLocalTime()</td>
              <td>@item.OrderDetailsCount</td>
              <td>
                  @if (item.Status == JewelryShop.Data.Models.Enums.OrderStatusType.Completed)
                  {
                      <span>Готов (неизпратен)</span>
                  }
                  else
                  {
                      <span>Изпратен</span>
                  }
              </td>
              <td>@item.TotalSum лв</td>
          </tr>
          num++;
      }
  </tbody>
</table>